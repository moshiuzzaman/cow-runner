(this["webpackJsonpJTI-camera"]=this["webpackJsonpJTI-camera"]||[]).push([[0],{50:function(e,t,a){},52:function(e,t,a){},55:function(e,t,a){},58:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(77),i=a(6),s=a.n(i),o=a(37),c=a.n(o),r=a(12),d=a(24),l=a(11),m=(a(50),a(4)),u=function(){return Object(m.jsxs)("div",{style:{textAlign:"center",marginTop:"200px"},children:[Object(m.jsx)("h1",{style:{color:"black",transform:"skewX(-10deg)"},children:"404"}),Object(m.jsx)("p",{style:{color:"black",transform:"skewX(-10deg)"},children:"Page not found"})]})},h=a.p+"static/media/bg.eed02beb.png",g=(a(52),function(){return Object(m.jsx)("div",{id:"spinerFullWidth",style:{backgroundImage:"url(".concat(h,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:Object(m.jsx)("div",{className:"center",id:"spinersection",children:Object(m.jsxs)("div",{class:"loader",children:[Object(m.jsx)("div",{class:"l_dot"}),Object(m.jsx)("div",{class:"l_dot"}),Object(m.jsx)("div",{class:"l_dot"}),Object(m.jsx)("div",{class:"l_dot"}),Object(m.jsx)("div",{class:"l_dot"})]})})})}),p=a(10),b=a(14),j=a.n(b),f=a(20),w=a(0),x=a(1),y=a(2),v=a(3),O=a(43),I=a(44),R=a(38),_=a.n(R),k=a(42),S={maxCount:150,speed:15,frameInterval:15,alpha:1,gradient:!1,start:null,stop:null,toggle:null,pause:null,resume:null,togglePause:null,remove:null,isPaused:null,isRunning:null},B=function(){S.start=u,S.stop=h,S.toggle=function(){a?h():u()},S.pause=d,S.resume=l,S.togglePause=function(){n?l():d()},S.isPaused=function(){return n},S.remove=function(){n=!1,s=[]},S.isRunning=function(){return a};var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,t=["rgba(30,144,255,","rgba(107,142,35,","rgba(255,215,0,","rgba(255,192,203,","rgba(106,90,205,","rgba(173,216,230,","rgba(238,130,238,","rgba(152,251,152,","rgba(70,130,180,","rgba(244,164,96,","rgba(210,105,30,","rgba(220,20,60,"],a=!1,n=!1,i=Date.now(),s=[],o=0,c=null;function r(e,a,n){return e.color=t[Math.random()*t.length|0]+(S.alpha+")"),e.color2=t[Math.random()*t.length|0]+(S.alpha+")"),e.x=Math.random()*a,e.y=Math.random()*n-n,e.diameter=10*Math.random()+5,e.tilt=10*Math.random()-10,e.tiltAngleIncrement=.07*Math.random()+.05,e.tiltAngle=Math.random()*Math.PI,e}function d(){n=!0}function l(){n=!1,m()}function m(){if(!n)if(0===s.length)c.clearRect(0,0,window.innerWidth,window.innerHeight),null;else{var t=Date.now(),d=t-i;(!e||d>S.frameInterval)&&(c.clearRect(0,0,window.innerWidth,window.innerHeight),function(){var e,t=window.innerWidth,n=window.innerHeight;o+=.01;for(var i=0;i<s.length;i++)e=s[i],!a&&e.y<-15?e.y=n+100:(e.tiltAngle+=e.tiltAngleIncrement,e.x+=Math.sin(o)-.5,e.y+=.5*(Math.cos(o)+e.diameter+S.speed),e.tilt=15*Math.sin(e.tiltAngle)),(e.x>t+20||e.x<-20||e.y>n)&&(a&&s.length<=S.maxCount?r(e,t,n):(s.splice(i,1),i--))}(),function(e){for(var t,a,n,i,o=0;o<s.length;o++){if(t=s[o],e.beginPath(),e.lineWidth=t.diameter,a=(n=t.x+t.tilt)+t.diameter/2,i=t.y+t.tilt+t.diameter/2,S.gradient){var c=e.createLinearGradient(a,t.y,n,i);c.addColorStop("0",t.color),c.addColorStop("1.0",t.color2),e.strokeStyle=c}else e.strokeStyle=t.color;e.moveTo(a,t.y),e.lineTo(n,i),e.stroke()}}(c),i=t-d%S.frameInterval),requestAnimationFrame(m)}}function u(e,t,i){console.log("start");var o=window.innerWidth,d=window.innerHeight;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,S.frameInterval)};var l=document.getElementById("Confetti-canvas");null===l?((l=document.createElement("canvas")).setAttribute("id","Confetti-canvas"),l.setAttribute("style","display:block;z-index:999999;pointer-events:none;position:fixed;top:0"),document.body.prepend(l),l.width=o,l.height=d,window.addEventListener("resize",(function(){l.width=window.innerWidth,l.height=window.innerHeight}),!0),c=l.getContext("2d")):null===c&&(c=l.getContext("2d"));var u=S.maxCount;if(t)if(i)if(t==i)u=s.length+i;else{if(t>i){var g=t;t=i,i=g}u=s.length+(Math.random()*(i-t)+t|0)}else u=s.length+t;else i&&(u=s.length+i);for(;s.length<u;)s.push(r({},o,d));a=!0,n=!1,m(),e&&window.setTimeout(h,e)}function h(){a=!1}},P=(a(54),a(23)),E=a(78),A=a.p+"static/media/01-min.6420e751.png",G=a.p+"static/media/02-min.c1e91c48.png",C=a.p+"static/media/03-min.0b584d19.png",M=a.p+"static/media/04-min.25bc0858.png",T=a.p+"static/media/05-min.1a95094c.png",N=a.p+"static/media/06-min.bf151ad2.png",L=a.p+"static/media/nglass.f902ce94.glb",F=a.p+"static/media/head.9f1dd2af.glb",W=a.p+"static/media/hdr.508c1b32.hdr",H=a.p+"static/media/Music-JTI.7f56d715.mp3",z=a.p+"static/media/toon.4f955f9a.mp3",D=(a(55),a.p+"static/media/Road-new.e56aa621.png"),Q=a.p+"static/media/breaker-new.8228531e.png",q=a.p+"static/media/jtiBreaker-new.53f88270.png",V=a.p+"static/media/jtiPlane-new.8b7ba118.png",J=a.p+"static/media/bangladesh.65807db5.png",U=function(){return Object(m.jsxs)("div",{id:"Gamemain",children:[Object(m.jsx)("div",{id:"gameToutorial"}),Object(m.jsxs)("div",{id:"Gamegroup",children:[Object(m.jsx)("img",{id:"Gameroad",src:D,alt:""}),Object(m.jsx)("img",{id:"Gamebr",src:q,alt:""}),Object(m.jsx)("img",{id:"gamePlane",src:V,alt:""})]}),Object(m.jsx)("div",{id:"fakeRoadBreaker",children:Object(m.jsx)("img",{id:"fakeGamebr",src:Q,alt:""})}),Object(m.jsx)("div",{id:"bangladeshImage",children:Object(m.jsx)("img",{id:"GameBangladeshImage",src:J,alt:""})}),Object(m.jsx)("div",{id:"camelImg",children:Object(m.jsx)("img",{className:"center",id:"Gamecamel",src:T,alt:"",style:{bottom:"80px"}})})]})},X=function(){var e=Object(l.f)();return Object(m.jsx)("div",{className:"display_container",children:Object(m.jsx)("div",{id:"post_game_animation",children:Object(m.jsxs)("div",{className:"mobile_container",children:[Object(m.jsx)("div",{className:"post_game_next_button_container",children:Object(m.jsx)("img",{onClick:function(){e("/av?isrestart=true")},className:"post_game_next_button button_style",width:"70",height:"70",src:"/images/tryAgain.png",alt:"restart--v1"})}),Object(m.jsx)("img",{className:"post_game_background",src:"./images/postgame.jpg",alt:""})]})})})},K=function(){return Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(m.jsx)("div",{className:"restart__wrapper",children:Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"restart__card",children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"restart__info",children:Object(m.jsx)("div",{className:"info__welcome font-face-camel",children:Object(m.jsx)("h3",{className:"restart_title-one",children:"\u0986\u09ac\u09be\u09b0 \u0996\u09c7\u09b2\u09c1\u09a8 "})})}),Object(m.jsx)("div",{className:"button__wrapper restart__button__wrapper",children:Object(m.jsx)("div",{id:"restart_game__button",className:"restart_button",children:Object(m.jsx)("img",{className:"button_style",onClick:function(){},src:"./images/tryAgain.png",alt:""})})})]})})})})})},Z=a(5),Y=function(){return Object(m.jsxs)("div",{id:"gameInstruction ",children:[Object(m.jsx)("h1",{className:"welcome__title-one",children:'"COW" \u09ac\u09b2\u09c1\u09a8'}),Object(m.jsx)("h3",{className:"welcome__title-two",children:" \u0986\u09b0 \u0997\u09b0\u09c1\u0995\u09c7 "}),Object(m.jsx)("h3",{className:"welcome__title-one",children:"\u09b8\u09be\u09ae\u09a8\u09c7 \u09af\u09c7\u09a4\u09c7 \u09b8\u09be\u09b9\u09be\u09af\u09cd\u09af \u0995\u09b0\u09c1\u09a8"})]})},$=null,ee=null,te=function(e){Object(y.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).camelanimation=15,n.gameSoundDiv=document.getElementById("gameSoundVideo"),n.camelbottomLen=!1,n.confettiStart=function(){n.state.isConfetti||(B(),n.setState({isConfetti:!0}),S.start())},n.confettiStop=function(){n.state.isConfetti&&S.remove()},n.countdownAnimation=function(e,t,a){var i=document.getElementsByClassName("count_number"),s=document.getElementsByClassName("count_number_Go");i[0].style.animation=e,i[1].style.animation=e,i[2].style.animation=e,s[0].style.animation=t,i[0].style.animationDelay="0s",i[1].style.animationDelay="1s",i[2].style.animationDelay="2s",s[0].style.animationDelay="3s",n.state.coundown=a},n.coundown=function(){var e=document.createElement("audio");e.id="sfxaudio",e.src=z,document.getElementById("main_canvas").appendChild(e),setTimeout((function(){n.countdownAnimation("none",!1)}),5e3)},n.sfxaudioPlay=function(){var e=document.getElementById("sfxaudio");e.pause(),e.currentTime=0,e.play()},n.tutorialStep=0,n.isShowGameTutorial=!1,n.gameTutorialShowPos=-500,n.isToutorialShow=function(){console.log(n.tutorialStep),document.getElementById("tutorialText").innerHTML=['\n      <h3 class="tutorial__title-one">\u09aa\u09cd\u09b0\u09a4\u09bf\u09ac\u09be\u09b0</h3>\n      <h1 class="tutorial__title-two">"COW"</h1>\n      <h3 class="tutorial__title-one">\u09ac\u09b2\u09b2\u09c7\u0987 \u09b0\u09be\u09b8\u09cd\u09a4\u09be\u09b0 \u09b2\u09c7\u09a8 \u09aa\u09b0\u09bf\u09ac\u09b0\u09cd\u09a4\u09a8 \u09b9\u09df\u09c7 \u09af\u09be\u09ac\u09c7!</h3>\n      ',"",'\n       <h3 class="tutorial__title-one">\u09aa\u09c1\u09a8\u09b0\u09be\u09af\u09bc</h3>\n       <h1 class="tutorial__title-two">"COW"</h1>\n       <h3 class="tutorial__title-one">\u09ac\u09b2\u09b2\u09c7\u0987 \u09b0\u09be\u09b8\u09cd\u09a4\u09be\u09b0 \u09b2\u09c7\u09a8 \u09aa\u09b0\u09bf\u09ac\u09b0\u09cd\u09a4\u09a8 \u09b9\u09df\u09c7 \u09af\u09be\u09ac\u09c7!</h3>\n      ',"",' \n      <h3 class="tutorial__title-one">\u09aa\u09cd\u09b0\u09a4\u09bf\u09ac\u09be\u09b0 \u09b2\u09be\u09b2 \u09b0\u0982 \u098f\u09b0 \u09ac\u09be\u09a7\u09be \u09a6\u09c7\u0996\u09b2\u09c7\u0987</h3>\n      <h1 class="tutorial__title-two">"COW"</h1>\n      <h3 class="tutorial__title-one">\u09ac\u09b2\u09c1\u09a8 \u098f\u09ac\u0982 \u09b0\u09be\u09b8\u09cd\u09a4\u09be\u09b0 \u09b2\u09c7\u09a8 \u09aa\u09b0\u09bf\u09ac\u09b0\u09cd\u09a4\u09a8 \u0995\u09b0\u09c7 \u09b8\u09be\u09ae\u09a8\u09c7 \u098f\u0997\u09bf\u09df\u09c7 \u09af\u09be\u09a8!</h3>\n      ',""][n.tutorialStep],4===n.tutorialStep?(document.getElementById("fakeRoadBreaker").style.display="block",document.getElementById("fakeGamebr").style.animation="animation-breaker .3s infinite alternate"):5===n.tutorialStep&&(document.getElementById("fakeGamebr").style.animation="none"),n.RoadImgPos>3450?n.gameTutorialShowPos=0:n.gameTutorialShowPos=n.state.RoadImgPos-(n.tutorialStep>=3?window.innerWidth-250:300),n.isShowGameTutorial=!n.isShowGameTutorial,n.tutorialStep+=1,6===n.tutorialStep&&(n.state.RoadImgPos=-4e3)},n.animatedCamel=function(){var e=document.getElementById("Gamecamel"),t=document.getElementById("Gamebr"),a=!0;a=n.state.RoadImgPos-n.state.sayCamelTime<8*-n.state.roadSpeed,n.state.sayCamelTime=n.state.RoadImgPos,4===n.tutorialStep&&(a=!1),n.state.crashedGame||n.state.coundown||!a||(n.sfxaudioPlay(),n.camelbottomLen?(e.style.width="112px",e.style.bottom="80px",n.camelbottomLen=!n.camelbottomLen,t.style.zIndex=3,e.style.zIndex=2):(n.camelbottomLen=!n.camelbottomLen,e.style.width="157px",e.style.bottom="32px",t.style.zIndex=2,e.style.zIndex=3)),n.isShowGameTutorial&&n.isToutorialShow()},n.camelImageChange=function(){1===n.camelanimation?document.getElementById("Gamecamel").src=A:4===n.camelanimation?document.getElementById("Gamecamel").src=G:7===n.camelanimation?document.getElementById("Gamecamel").src=C:10===n.camelanimation?document.getElementById("Gamecamel").src=M:13===n.camelanimation?document.getElementById("Gamecamel").src=T:16===n.camelanimation?document.getElementById("Gamecamel").src=N:18===n.camelanimation&&(n.camelanimation=0),n.state.coundown||n.state.crashedGame||5===n.tutorialStep||n.camelanimation++},n.RestartGame=function(){n.state.isConfetti=!1,B(),document.getElementById("GameBangladeshImage").style.scale=0,document.getElementById("Gamecamel").style.left="115px",n.state.camelImgPos=80,document.getElementById("restart_game").style.display="none",document.getElementById("gamesec").style.display="block",document.getElementById("postGame").style.display="none",n.state.RoadImgPos=-4600,document.getElementById("Gamegroup").style.left=n.state.RoadImgPos+"px",n.state.crashedGame=!1,n.camelanimation=1,n.gameSoundDiv.pause(),n.gameSoundDiv.play(),document.getElementById("fakeRoadBreaker").style.display="none"},n.fakeRoadBreakerAnimation=function(){n.state.fakeRoadBr+=n.state.roadSpeed,document.getElementById("fakeRoadBreaker").style.right=n.state.fakeRoadBr+"px"},n.tutorialMode=function(e){n.state.RoadImgPos>-4e3&&(n.tutorialStep<5||n.tutorialStep>5)?(n.state.RoadImgPos-=n.state.roadSpeed,e.style.left=n.state.RoadImgPos+"px",n.tutorialStep>=4&&("80px"===document.getElementById("Gamecamel").style.bottom?(document.getElementById("fakeGamebr").style.width="90px",document.getElementById("fakeRoadBreaker").style.bottom="155px",n.state.fakeRoadBrPause="top"):(document.getElementById("fakeRoadBreaker").style.zIndex=88,n.state.fakeRoadBrPause="bottom"),n.fakeRoadBreakerAnimation())):n.tutorialStep<5&&(n.state.RoadImgPos=0),n.state.RoadImgPos>=n.gameTutorialShowPos&&n.state.RoadImgPos<=n.gameTutorialShowPos+15&&!n.isShowGameTutorial&&n.isToutorialShow(1,!0)},n.realGameMode=function(e,t,a){if(n.state.RoadImgPos>-n.state.roadStop)n.state.crashedGame||(n.state.RoadImgPos-=n.state.roadSpeed,e.style.left=n.state.RoadImgPos+"px");else if(n.state.camelImgPos<=n.state.camelStop)n.state.camelImgPos+=n.state.roadSpeed,t.style.left=n.state.camelImgPos+"px";else{if(n.confettiStart(),window.innerWidth>=900?document.getElementById("GameBangladeshImage").style.scale=1.5:document.getElementById("GameBangladeshImage").style.scale=1.3,document.getElementById("GameBangladeshImage").animate({transform:"scale(1.3)"},2e3),n.state.crashedGame=!0,n.state.RoadImgPos-=5,n.state.RoadImgPos<-8900)n.confettiStop(),document.getElementById("gamesec").style.display="none",document.getElementById("postGame").style.display="block",document.getElementById("post_game_animation").animate({transform:"scale(1)"},2e3),n.gameSoundDiv.pause(),n.gameSoundDiv.currentTime=0}var i=document.getElementById("restart_game");(n.state.RoadImgPos<=-5285&&n.state.RoadImgPos>=-5395||n.state.RoadImgPos<=-6630&&n.state.RoadImgPos>=-6740||n.state.RoadImgPos<=-7860&&n.state.RoadImgPos>=-7970||n.state.RoadImgPos<=-4170&&n.state.RoadImgPos>=-4305&&"top"===n.state.fakeRoadBrPause)&&"80px"===t.style.bottom&&(i.style.display="block",n.state.crashedGame=!0),(n.state.RoadImgPos<=-5940&&n.state.RoadImgPos>=-6120||n.state.RoadImgPos<=-7330&&n.state.RoadImgPos>=-7510||n.state.RoadImgPos<=-4155&&n.state.RoadImgPos>=-4335&&"bottom"===n.state.fakeRoadBrPause)&&"32px"===t.style.bottom&&(n.state.crashedGame=!0,i.style.display="block"),n.state.fakeRoadBr<window.innerWidth+900&&!n.state.crashedGame&&n.fakeRoadBreakerAnimation()},n.gameanimation=function(){var e=document.getElementById("Gamegroup"),t=document.getElementById("Gamecamel"),a=document.getElementById("Gamebr");n.tutorialStep>5?n.realGameMode(e,t,a):n.tutorialMode(e,t,a)},n.ismouth=!1,n.startcountdown=0,n.startGame=function(){n.state.coundown||n.gameanimation(),0===n.startcountdown&&(n.coundown(),n.startcountdown=1),n.camelImageChange(),document.getElementById("restart_game__button").addEventListener("click",(function(){n.RestartGame()}))},n.fakemusic=function(){var e=document.createElement("video");e.setAttribute("loop",""),e.setAttribute("style","position: fixed;"),e.setAttribute("id","fakevideo");var t,a;!function(e,t,a){var n=document.createElement("source");n.src=a,n.type="video/"+t,e.appendChild(n)}(e,"webm",(t="video/webm",a="GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=","data:"+t+";base64,"+a)),document.body.appendChild(e);!function t(){e.play(),document.body.removeEventListener("touchend",t)}()},n.isStart=!1,n.isStartGame=function(){n.setState({isConfetti:!1}),n.gameSoundDiv=document.getElementById("gameSoundVideo"),n.gameSoundDiv.pause(),n.gameSoundDiv.play(),n.isStart=!0,document.getElementById("gameInstruction_game").style.scale=0,document.getElementById("gameInstruction_game").style.zIndex=-333333333,n.state.coundown=!0,n.countdownAnimation("count_animate 4s linear","count_animate1 6s linear",!0),n.state.RoadImgPos=0,n.fakemusic()},n.FaceMeshResult=function(e){n.isStart&&n.startGame();var t=document.createElement("canvas");if(t.width=n.width,t.height=n.height,t.getContext("2d").beginPath(),e.multiFaceLandmarks){var a=e.multiFaceLandmarks[0];if(a&&a.length>=130){var i=Math.ceil(1e3*(a[14].y-a[13].y));!n.ismouth&&i>13?(n.ismouth=!0,n.animatedCamel()):n.ismouth&&i<13&&(n.ismouth=!1),n.headHeight=Math.abs(a[152].y-a[10].y)*n.height;var s=Math.abs(a[162].x-a[389].x)*n.width,o=Math.abs(a[101].y-a[105].y)*n.height,c=Math.abs(a[6].x-a[127].x)*n.width,r=Math.abs(a[6].x-a[356].x)*n.width,d=c<r?(a[6].y-a[356].y)*n.height:(a[6].y-a[127].y)*n.height,l=a[8].x*n.width,m=a[8].y*n.height,u=(a[389].y-a[162].y)*n.height*.22,h=.22*(c-r),g=.22*d;if(n.state.canvasCtx.drawImage(t,0,0,n.width,n.height),null!=n.state.glassGroup){l=(2*l-n.width)/100,m=(n.height-2*m)/100;var p=u*Math.PI/180,b=h*Math.PI/180,j=g*Math.PI/180;n.state.glassGroup.current.position.set(l,m-o/200*.5,-2),n.state.headGroup.current.position.set(l,m-o/200*3,-2),n.state.glassGroup.current.scale.set(s/200,s/200,1.3),n.state.headGroup.current.scale.set(s/180,n.headHeight/220,1.3),n.state.headGroup.current.rotation.set(j,b,-p),n.state.glassGroup.current.rotation.set(j,b,-p)}}n.state.loadFaceMask=!0}n.state.canvasCtx.restore()},n.SelfieSegmentationResult=function(e){if(n.state.webcamRef.current&&n.state.loadFaceMask){n.state.modelLoaded||(n.height=n.state.webcamRef.current.video.videoHeight/n.state.webcamRef.current.video.videoWidth*n.width,n.width<n.height&&(n.height=window.innerHeight,n.width=n.state.webcamRef.current.video.videoWidth/n.state.webcamRef.current.video.videoHeight*n.height),n.state.canvasRef.current.width=n.width,n.state.canvasRef.current.height=n.height,n.props.ShowLoadingBar(!1),document.getElementById("fakeRoadBreaker").style.display="none",n.setState({modelLoaded:!0})),n.state.canvasCtx.save(),n.state.canvasCtx.clearRect(0,0,n.width,n.height);var t=n.state.canvasCtx;t.globalCompositeOperation="source-over",t.drawImage(e.segmentationMask,0,0,n.width,n.height),t.globalCompositeOperation="source-in",t.drawImage(e.image,0,0,n.width,n.height),t.restore()}},n.OnModelLoaded=function(e){n.state.glassGroup=e},n.OnHeadLoaded=function(e){n.state.headGroup=e},window.innerWidth<window.innerHeight?(n.aspect=1.5,n.width=window.innerWidth,n.height=window.innerHeight):(n.aspect=18/19,n.height=window.innerHeight,n.width=window.innerHeight*n.aspect),n.headHeight=0,n.state={connect:window.drawConnectors,camera:null,glassGroup:null,headphoneGroup:null,headGroup:null,path:L,headPath:F,hdrPath:W,deviceType:null,canvasRef:s.a.createRef(),canvasRef2:s.a.createRef(),webcamRef:s.a.createRef(),RoadImgPos:-200,fakeRoadBr:-50,roadStop:8550,fakeRoadBrPause:"",camelStop:80,roadSpeed:8,camelImgPos:80,capturedImage:null,modelLoaded:!1,isConfetti:!1,scale:[1,1,1],position:[-10,0,0],model_active:!0,showPreview:!1,canvas:null,canvasCtx:null,canvasElement:null,loadFaceMask:!1,crashedGame:!1,coundown:!0,sayCamelTime:0},window.innerWidth>600&&(n.state.roadSpeed=7),window.innerWidth>300&&(n.state.roadStop=n.state.roadStop-(window.innerWidth-300)/2,n.state.camelStop=n.state.camelStop+(window.innerWidth-250)/2),e.ShowLoadingBar(!0),E.a.preload(n.state.path),E.a.preload(n.state.headPath),n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.search,a=new URLSearchParams(t).get("device");this.state.deviceType=a,this.state.canvasElement=this.state.canvasRef.current,this.state.canvasElement.width=this.width,this.state.canvasElement.height=this.height,this.state.canvasCtx=this.state.canvasElement.getContext("2d"),(ee=new k.SelfieSegmentation({locateFile:function(e){return console.log(e),window.filePath[1][e]?window.filePath[1][e]:"https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/".concat(e)}})).setOptions({modelSelection:0,selfieMode:!0,effect:"mask"}),ee.onResults(this.SelfieSegmentationResult),($=new O.FaceMesh({locateFile:function(e){return window.filePath[0][e]?window.filePath[0][e]:"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/".concat(e)}})).setOptions({modelComplexity:1,selfieMode:!0,maxNumFaces:1,smoothLandmarks:!0,minDetectionConfidence:.5,minTrackingConfidence:.5}),$.onResults(this.FaceMeshResult),"undefined"!==typeof this.state.webcamRef.current&&null!==this.state.webcamRef.current&&(this.state.camera=new I.Camera(this.state.webcamRef.current.video,{onFrame:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.webcamRef.current){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,ee.send({image:e.state.webcamRef.current.video});case 4:if(e.state.webcamRef.current){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,$.send({image:e.state.webcamRef.current.video});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),this.state.camera.start())}},{key:"render",value:function(){var e=this,t=this.width<this.height,a=this.width,n=window.innerWidth,s=window.innerHeight;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("audio",{id:"gameSoundVideo",src:H,playsInline:!0,loop:!0}),Object(m.jsx)("div",{id:"postGame",style:{display:"none"},children:Object(m.jsx)(X,{deviceType:this.state.deviceType,restart:this.RestartGame})}),Object(m.jsxs)("div",{id:"gamesec",style:{display:"".concat(this.state.modelLoaded?"block":"none"),position:"relative",overflow:"hidden"},children:[Object(m.jsx)("div",{id:"restart_game",style:{display:"none"},children:Object(m.jsx)(K,{})}),Object(m.jsx)("div",{id:"tutorialsection",children:Object(m.jsx)("div",{id:"tutorialText"})}),Object(m.jsxs)("div",{id:"gameInstruction_game",children:[Object(m.jsx)(Y,{}),Object(m.jsx)("div",{onClick:function(){return e.isStartGame()},style:{marginTop:"40px",cursor:"pointer"},children:Object(m.jsx)("img",{className:"button_style",src:"./images/start.png",alt:""})})]}),Object(m.jsxs)("div",{className:"column",style:{overflow:"hidden"},children:[Object(m.jsx)("div",{className:"center",style:{backgroundImage:"url(".concat(h,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:n,height:s,marginBottom:t&&!this.state.showPreview?"60px":"0px",marginTop:t&&!this.state.showPreview?"-60px":"0px"},children:Object(m.jsxs)("div",{className:"center",style:{height:"100%",width:a,position:"relative"},children:[Object(m.jsx)(_.a,{ref:this.state.webcamRef,screenshotFormat:"image/png",forceScreenshotSourceSize:"true",videoConstraints:{facingMode:"user"},width:this.width,height:this.height,mirrored:!0,style:{textAlign:"center",zindex:1,position:"absolute",display:"".concat(this.state.modelLoaded?"none":"block")}}),Object(m.jsxs)("div",{id:"main_canvas",style:{width:"".concat(t?"unset":this.width,"px"),height:"".concat(t?"unset":this.height,"px"),top:"".concat(t?"60px":"unset"),left:"0px",bottom:"".concat(t?"90px":"unset"),right:"0px",position:"absolute"},children:[Object(m.jsx)("div",{id:"game_coundown",children:Object(m.jsxs)("div",{className:"countdown",children:[Object(m.jsx)("div",{className:"count_number",children:Object(m.jsx)("h2",{children:"3"})}),Object(m.jsx)("div",{className:"count_number",children:Object(m.jsx)("h2",{children:"2"})}),Object(m.jsx)("div",{className:"count_number",children:Object(m.jsx)("h2",{children:"1"})}),Object(m.jsx)("div",{className:"count_number_Go ",children:Object(m.jsx)("h2",{children:"GO!"})})]})}),Object(m.jsx)("canvas",{ref:this.state.canvasRef,height:this.height,style:{textAlign:"center",position:"absolute",top:"0px",left:"0px",right:"0px",zindex:1,display:this.state.showPreview?"none":"block"}}),Object(m.jsxs)(P.a,{id:"3dmodel",ref:this.state.canvasRef2,gl:{preserveDrawingBuffer:!0},orthographic:!0,pixelRatio:window.devicePixelRatio,camera:{zoom:50,position:[0,0,10],near:-1,far:20,fov:100},style:{width:this.width,height:this.height,position:"absolute",top:"0px",left:"0px",right:"0px",zIndex:1,display:this.state.showPreview?"none":"block"},children:[Object(m.jsx)("ambientLight",{}),Object(m.jsx)("spotLight",{intensity:.5,position:[25,25,125],angle:.1}),Object(m.jsxs)(i.Suspense,{fallback:null,children:[Object(m.jsx)(ne,{gltfPath:this.state.headPath,OnHeadLoaded:this.OnHeadLoaded,scale:this.state.scale,position:this.state.position,THREE:Z}),Object(m.jsx)(ae,{gltfPath:this.state.path,OnModelLoaded:this.OnModelLoaded,scale:this.state.scale,position:this.state.position,THREE:Z})]})]})]})]})}),!this.state.showPreview&&Object(m.jsx)("div",{id:"gameSection",className:"column",style:{position:"absolute",bottom:"11px",left:"".concat(t?"0px":"unset"),right:"".concat(t?"0px":"unset"),zIndex:2},children:Object(m.jsxs)("div",{className:"column",style:{width:"100%",position:"relative"},children:[Object(m.jsx)(U,{}),Object(m.jsx)("div",{style:{display:"none",width:"100%",height:"2px",background:"#1A5B88",marginTop:"10px"}}),Object(m.jsx)("div",{className:"center-horizontal",style:{display:"none",opacity:0,width:"100%",margin:"0px",marginTop:"8px"}}),Object(m.jsx)("div",{className:"center",style:{opacity:0,width:a,height:"70px",marginTop:"0px"}})]})})]})]})]})}}]),a}(i.Component);function ae(e){var t=Object.assign({},e),a=Object(i.useRef)(),n=t.THREE,s=Object(E.a)(t.gltfPath),o=s.nodes,c=s.materials;return Object(i.useEffect)((function(){t.OnModelLoaded(a,o,c)}),[c,o,t]),c["Material.002"].color=new n.Color("rgb(1,27,85)"),Object(m.jsxs)("group",Object(p.a)(Object(p.a)({ref:a},t),{},{dispose:null,children:[Object(m.jsx)("mesh",{renderOrder:3,geometry:o.Mesh001.geometry,material:c.Material}),Object(m.jsx)("mesh",{renderOrder:3,geometry:o.Mesh001_1.geometry,material:c["Material.002"]})]}))}function ne(e){var t=Object.assign({},e),a=Object(i.useRef)(),n=Object(E.a)(t.gltfPath).nodes,s=n.Mesh_Head.material;return s.colorWrite=!1,Object(i.useEffect)((function(){t.OnHeadLoaded(a,n,s)}),[s,n,t]),Object(m.jsx)("group",Object(p.a)(Object(p.a)({ref:a},t),{},{dispose:null,children:Object(m.jsx)("mesh",{renderOrder:1,geometry:n.Mesh_Head.geometry,material:s})}))}var ie=te,se=function(){var e=Object(l.f)();return Object(i.useEffect)((function(){}),[]),Object(m.jsx)("div",{className:"display_container",children:Object(m.jsxs)("div",{className:"mobile_container",children:[Object(m.jsx)("div",{className:"pre_game_next_button_container",children:Object(m.jsx)("img",{onClick:function(){e("/trial")},className:"pre_game_next_button",src:"./images/khelaHobe.png",alt:""})}),Object(m.jsx)("img",{className:"pre_game_background",src:"./images/preGame.png",alt:""})]})})},oe=function(){var e=Object(i.useState)(),t=Object(r.a)(e,2),a=t[0],n=t[1];Object(i.useEffect)((function(){var e=window.location.search;new URLSearchParams(e).get("isrestart")&&b(!0)}),[]),Object(i.useEffect)((function(){function e(){return(e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n("cow.mp4");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(i.useEffect)((function(){var e=document.getElementById("video");e.addEventListener("ended",(function(t){console.log("end"),e.play(),e.loop=!1,w()}))}),[]);var s=Object(l.e)().state,o=Object(l.f)(),c=Object(i.useState)(!0),d=Object(r.a)(c,2),u=d[0],h=d[1],g=Object(i.useState)(!1),p=Object(r.a)(g,2),b=(p[0],p[1]),w=function(){o("/pre-game",{state:s}),b(!0)};return Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)("div",{className:"display_container",children:[Object(m.jsxs)("div",{className:"mobile_container",children:[!u&&Object(m.jsx)("div",{className:"nextButton",onClick:function(){return h(!0),void o("/pre-game",{state:s})},style:{position:"absolute",top:55,right:15,cursor:"pointer",zIndex:100},children:Object(m.jsx)("img",{width:"64",height:"64",src:"https://img.icons8.com/flat-round/64/play--v1.png",alt:"play--v1"})}),Object(m.jsx)("div",{id:"custom_seekbar_section"}),Object(m.jsx)("video",{className:"av_card_forVideo videosize",id:"video",playsInline:!0,loop:!1,onEnded:function(){return console.log("Video ended")},controls:!0,disablePictureInPicture:!0,controlsList:"nofullscreen nodownload noremoteplayback noplaybackrate nopictureinpicture",children:a&&Object(m.jsx)("source",{src:"avs/".concat(a),type:"video/mp4"})})]}),u&&Object(m.jsx)("div",{onClick:function(){return document.getElementById("video").play(),void h(!1)},style:{position:"absolute",cursor:"pointer"},children:Object(m.jsx)("img",{className:"button_style",src:"./images/start.png",alt:""})})]})})};var ce=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.a,{children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{path:"/pre-game",element:Object(m.jsx)(se,{})}),Object(m.jsx)(l.a,{path:"/post-game",element:Object(m.jsx)(X,{})}),Object(m.jsx)(l.a,{path:"/av",exact:!0,element:Object(m.jsx)(oe,{})}),Object(m.jsx)(l.a,{path:"/",exact:!0,element:Object(m.jsx)(oe,{})}),Object(m.jsx)(l.a,{path:"/trial",exact:!0,element:Object(m.jsx)(ie,{location:"/trial",ShowLoadingBar:function(e){n(e)}})}),Object(m.jsx)(l.a,{path:"*",exact:!0,element:Object(m.jsx)(u,{})})]})}),a&&Object(m.jsx)(g,{})]})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),s(e),o(e)}))};a(58);c.a.render(Object(m.jsxs)(s.a.StrictMode,{children:[Object(m.jsx)(n.a,{}),Object(m.jsx)(ce,{})]}),document.getElementById("root")),re()}},[[63,1,2]]]);
//# sourceMappingURL=main.05d4e0ae.chunk.js.map